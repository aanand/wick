#!/usr/bin/env ruby

require 'irc_client'
require 'irc_client/client'
require 'irc_client/ui/raw'
require 'irc_client/ui/nice'
require 'irc_client/runner/socket'

host = ARGV[0] || 'localhost'
port = ARGV[1] || '6667'

username = ARGV[2] || 'frippery'

client  = IRCClient::Client.new(username)
ui      = IRCClient::UI::Nice.new(username)
runner  = IRCClient::Runner::Socket.new(host, port, $stdin, $stdout)

IRCClient.start!(client, ui, runner)
